syntax = "proto3";

package dream_game;
option go_package = "git.17zjh.com/snake/snake_proto/system/dream_game";

enum DreamGameSettleType {
    Normal = 0; // 正常主动结算
    Abnormal = 1; // 异常结算
    Exception = 2; // 发生未知错误，默认不进行结算
  }

// 玩家结算时的一些数据
message DreamGameEndGame { // todo
  string uid = 1; // 结算的玩家uid
  int32 platform = 3;
  string market = 4;
  string version = 5;
  string device_id = 6;
  int32 kill = 9;
  int32 length = 10;
  DreamGameSettleType settle_type = 11; // 结算类型, 0: 正常主动结算, 1: 异常结算, 2: 发生未知错误，默认不进行结算
  repeated DreamGameTeammate teammates = 12; // 队友
  string rid = 13; // 本局游戏的rid
  int64 game_count = 14; // 对局次数
}

message DreamGameTeammate {
  string uid = 1;
  int32 score = 2;
  int32 skinId = 3;
}

message DreamGameEndGameRsp { // todo
}

message DreamGameEndGameNotify {
  string rid = 1; // 本局游戏的rid
}

message DreamGameExitGameReq {
}

message DreamGameExitGameRsp {
}